<!--查询条件-->
<div class="row">
    <div class="col-sm-5 col-xs-12">
        <p>
            <input type="text" class="name form-control" ng-model="name" placeholder="请输入用户名"/>
        </p>
    </div>
    <div class="col-sm-5 col-xs-12">
        <p>
            <select class="type form-control" ng-model="type">
                <option value="">全部</option>
                <option value="市场人员">市场人员</option>
                <option value="风控人员">风控人员</option>
                <option value="项目人员">项目人员</option>
                <option value="客户">客户</option>
                <option value="律师">律师</option>
            </select>
        </p>
    </div>
    <div class="col-sm-1 col-xs-12">
        <p>
            <input type="submit" id="page" class="btn btn-cloud form-control" ng-click="searchUser()"/>
        </p>
    </div>
    <div class="col-sm-1 col-xs-12">
        <p>
            <input type="button" class="btn btn-cloud form-control" ng-click="addUser()" value="新增" data-toggle="modal"
                   data-target="#addInfo"/>
        </p>
    </div>
</div>
<br/>

<!--项目模块-->
<div class="row">
    <div class="col-sm-6 col-xs-12" ng-repeat="info in data">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title"><span class="glyphicon glyphicon-user"></span> {{info.name}}
                    <lable class="pull-right">
                        <span class="glyphicon glyphicon-edit"
                              ng-click="editClientInfo(info.id, info.name, info.firm, info.phone, info.position, info.department, info.email, info.tel, info.type, info.status)"
                              style="cursor: pointer" title="修改" data-toggle="modal"
                              data-target="#editInfo"></span>
                        <span class="glyphicon glyphicon-remove" style="cursor: pointer" title="删除"
                              ng-click="delClientInfo(info.id)"></span>
                        <span class="fa fa-key" style="cursor: pointer" ng-click="editPass(info.id)" data-toggle="modal"
                              title="修改密码" data-target="#updatePass"></span>
                    </lable>
                </h3>
            </div>
            <div class="panel-body">
                <p>
                    公司/对接人: &nbsp;{{info.firm}}
                </p>
                <p>
                    手<span style="margin: 0 24px 0 23px"></span>机: &nbsp;{{info.phone}}
                </p>
                <p>
                    职<span style="margin: 0 24px 0 23px"></span>位: &nbsp;{{info.position}}
                </p>
                <p>
                    部<span style="margin: 0 24px 0 23px"></span>门: &nbsp;{{info.department}}
                </p>
                <p>
                    邮<span style="margin: 0 24px 0 23px"></span>箱: &nbsp;{{info.email}}
                </p>
                <p>
                    电<span style="margin: 0 24px 0 23px"></span>话: &nbsp;{{info.tel}}
                </p>
                <p>
                    用<span style="margin: 0 3px"></span>户<span style="margin: 0 3px"></span>类<span
                        style="margin: 0 4px 0 3px"></span>型: &nbsp;{{info.type}}
                </p>
                <p>
                    账<span style="margin: 0 3px"></span>户<span style="margin: 0 3px"></span>状<span
                        style="margin: 0 4px 0 3px"></span>态: &nbsp;{{info.status}}
                </p>
                <p>
                    参<span style="margin: 0 3px"></span>与<span style="margin: 0 3px"></span>项<span
                        style="margin: 0 4px 0 3px"></span>目: &nbsp;{{info.count}}个 <a
                        href="javascript:;" data-toggle="modal" data-target="#projectList"
                        ng-click="goProjectItems(info.id)">查看项目列表</a>
                </p>
            </div>
        </div>
    </div>
</div>

<!--修改用户信息-->
<div class="modal fade" id="editInfo" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel">
                    修改用户信息
                </h4>
            </div>
            <div class="modal-body">
                <form>
                    <label>姓名</label>
                    <p><input type="text" class="form-control" placeholder="姓名" ng-model="name"/>
                    </p>
                    <label>手机号</label>
                    <p><input type="text" class="form-control" placeholder="手机" ng-model="phone"/></p>
                    <label>公司或对接人</label>
                    <p><input type="text" class="form-control" placeholder="公司" ng-model="firm"/></p>
                    <label>职位</label>
                    <p><input type="text" class="form-control" placeholder="职位" ng-model="position"/></p>
                    <label>邮箱</label>
                    <p><input type="text" class="form-control" placeholder="邮箱" ng-model="email"/></p>
                    <label>所在部门</label>
                    <p><input type="text" class="form-control" placeholder="所在部门" ng-model="department"/></p>
                    <label>座机</label>
                    <p><input type="text" class="form-control" placeholder="座机" ng-model="tel"/></p>
                    <label>用户类型</label>
                    <p>
                        <select ng-model="type" class="form-control">
                            <option value="市场人员">市场人员</option>
                            <option value="风控人员">风控人员</option>
                            <option value="项目人员">项目人员</option>
                            <option value="客户">客户</option>
                            <option value="律师">律师</option>
                        </select>
                    </p>
                    <label>账户状态</label>
                    <p>
                        <select ng-model="status" class="form-control">
                            <option value="正常">正常</option>
                            <option value="待激活">待激活</option>
                            <option value="禁用">禁用</option>
                        </select>
                    </p>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-primary" ng-click="submitClientInfo()">
                    提交更改
                </button>
            </div>
        </div>
    </div>
</div>
<!--新增用户-->
<div class="modal fade" id="addInfo" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    新增用户信息
                </h4>
            </div>
            <div class="modal-body">
                <form>
                    <label>姓名</label>
                    <p><input type="text" class="form-control" placeholder="姓名" ng-model="name"/>
                    </p>
                    <label>手机号</label>
                    <p><input type="text" class="form-control" placeholder="手机" ng-model="phone"/></p>
                    <label>公司或对接人</label>
                    <p><input type="text" class="form-control" placeholder="公司" ng-model="firm"/></p>
                    <label>邮箱</label>
                    <p><input type="text" class="form-control" placeholder="邮箱" ng-model="email"/></p>
                    <label>所在部门</label>
                    <p><input type="text" class="form-control" placeholder="所在部门" ng-model="department"/></p>
                    <label>座机</label>
                    <p><input type="text" class="form-control" placeholder="座机" ng-model="tel"/></p>
                    <label>职位</label>
                    <p><input type="text" class="form-control" placeholder="职位" ng-model="position"/></p>
                    <label>用户类型</label>
                    <p>
                        <select ng-model="type" class="form-control">
                            <option value="市场人员">市场人员</option>
                            <option value="风控人员">风控人员</option>
                            <option value="项目人员">项目人员</option>
                            <option value="客户">客户</option>
                            <option value="律师">律师</option>
                        </select>
                    </p>
                    <label>账户状态</label>
                    <p>
                        <select ng-model="status" class="form-control">
                            <option value="正常">正常</option>
                            <option value="待激活">待激活</option>
                            <option value="禁用">禁用</option>
                        </select>
                    </p>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-primary" ng-click="addClientInfo()">
                    新增
                </button>
            </div>
        </div>
    </div>
</div>

<!--修改密码-->
<div class="modal fade" id="updatePass" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    修改密码
                </h4>
            </div>
            <div class="modal-body">
                <form>
                    <label>原密码</label>
                    <p>
                        <input type="password" class="form-control" placeholder="请输入原密码" ng-model="oldPass"/>
                    </p>
                    <label>新密码</label>
                    <p>
                        <input type="password" class="form-control" placeholder="请输入新密码" ng-model="oldPassToo"/>
                    </p>
                    <label>确认新密码</label>
                    <p><input type="password" class="form-control" placeholder="请再次输入新密码" ng-model="newPass"/></p>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-primary" ng-click="updatePass()">
                    修改
                </button>
            </div>
        </div>
    </div>
</div>
<!--分页-->
<table>
    <tr>
        <td>
            <pagination total-items="bigTotalItems" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm"
                        boundary-links="true" rotate="false" num-pages="numPages"
                        ng-change="pageChanged(bigCurrentPage)"></pagination>
        </td>
        <td>
            &nbsp;&nbsp;&nbsp;总共: <span class="text-theme">{{bigTotalItems}}</span>条
        </td>
    </tr>
</table>

<!--用户参与的项目-->
<div id="projectList" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"
                        aria-hidden="true">×
                </button>
                <h4 class="modal-title">
                    参与项目列表
                </h4>
            </div>
            <div class="modal-body">
                <div ng-if="dataPro.length==0">
                    <p>暂无项目</p>
                </div>
                <ol>
                    <li ng-repeat="msg in dataPro">
                        <p><a href="#/project/baseInfo/{{msg.id}}" ng-click="goprojectInfo()">{{msg.name}}</a></p>
                    </li>
                </ol>
                <!--分页-->
                <pagination total-items="ProbigTotalItems" ng-model="ProbigCurrentPage" max-size="PromaxSize"
                            class="pagination-sm"
                            boundary-links="true" rotate="false" num-pages="numPages"
                            ng-change="pageChangedPro(ProbigCurrentPage)" ng-if="dataPro.length != 0"></pagination>
            </div>
        </div>
    </div>
</div>